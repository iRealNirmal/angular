@use '../../constants' as *;
@use '~@angular/material/theming' as *;

@mixin table-theme($theme) {
  $primary: map-get($theme, primary);
  $background: map-get($theme, background);
  $foreground: map-get($theme, foreground);
  $is-dark-theme: map-get($theme, is-dark);

  table {
    box-shadow: 0 2px 2px rgba($mediumgray, 0.24), 0 0 2px rgba(if($is-dark-theme, $white, $black), 0.12);
    background-color: if($is-dark-theme, mat-color($background, background), $white);

    thead > {
      tr > th {
        background: if($is-dark-theme, $deepgray, rgba($lightgray, 0.2));
        border-bottom: 1px solid if($is-dark-theme, $darkgray, $lightgray);
        color: if($is-dark-theme, $white, $darkgray);
      }
    }

    tbody > tr > {
      th,
      td {
        border-bottom: 1px solid if($is-dark-theme, $darkgray, $lightgray);
      }

      td {
        tr td:first-child {
          @media (max-width: 480px) {
            background-color: $lightgray;
          }
        }
      }

      th {
        background: if($is-dark-theme, $deepgray, rgba($lightgray, 0.2));
        &:not(:last-child) {
          border-right: 1px solid if($is-dark-theme, $darkgray, $lightgray);
        }
      }
    }

    tbody > tr {
      &:last-child td {
        @media (max-width: 480px) {
          border-bottom: 1px solid if($is-dark-theme, $deepgray, $lightgray);
        }
      }
    }
  }
}
